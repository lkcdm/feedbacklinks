---
title: 关于主题的一些修改(正在篡写)
abbrlink: 2024/07/09/1
date: 2024/07/09 00:00:00
updated: 2024/07/09 00:00:00
tags:
- 记录
categories:
- 网站开发
copyright: true
toc_number: false
cover: https://i1.wp.com/imgse.koxiuqiu.cn/i/2024/07/14/yzhq76.png
swiper_index: 1
copyright_author: klcdm
copyright_author_href: https://koxiuqiu.cn/
copyright_url: https://butterfly.zhheo.com/create.html
copyright_info: 此文由各佬编写,本站只是采集记录改编,如有转载,请注明出处!
---

简单记录下我的`Butterfly魔改`的历程，为了防止往后迷失进度；（都是搬运文章方便我个人记录回溯,并且标注好原文了）

**全文配合`CTRL+C`以及慢慢修改编写,只是用于`基本的记录`方便使用，同时我在去写一次,我就会有一定的印象,从而更好的去记忆,写~~水~~文章更快**

# 外挂标签插件

## 安装

{% tip info %}原文{% endtip %}

{% link 糖果屋教程贴, https://akilar.top/posts/615e2dec/, https://npm.elemecdn.com/akilar-friends@latest/avatar/akilar.top.jpg %}

{% tabs test3, -1 %}
<!-- tab npm插件安装方案(推荐) -->

- 安装插件,在博客根目录`[Blogroot]`下打开终端，运行以下指令：

```
npm install hexo-butterfly-tag-plugins-plus --save
```

考虑到hexo自带的markdown渲染插件`hexo-renderer-marked`与外挂标签语法的兼容性较差，建议您将其替换成`hexo-renderer-kramed`

```
npm uninstall hexo-renderer-marked --save
npm install hexo-renderer-kramed --save
```

- 添加配置信息，以下为写法示例

> 在站点配置文件_config.yml或者主题配置文件_config.butterfly.yml中添加

```
# tag-plugins-plus
# see https://akilar.top/posts/615e2dec/
tag_plugins:
  enable: true # 开关
  priority: 5 #过滤器优先权
  issues: false #issues标签依赖注入开关
  link:
    placeholder: /img/link.png #link_card标签默认的图标图片
  CDN:
    anima: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css #动画标签anima的依赖
    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js #issues标签依赖
    issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js #issues标签依赖
    iconfont: //at.alicdn.com/t/font_2032782_8d5kxvn09md.js #参看https://akilar.top/posts/d2ebecef/
    carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js
    tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css
```

- 参数释义

| 参数                | 备选值/类型                        | 释义                                                         |
| :------------------ | :--------------------------------- | :----------------------------------------------------------- |
| enable              | true/false                         | 【必选】控制开关                                             |
| priority            | number                             | 【可选】过滤器优先级，数值越小，执行越早，默认为10，选填     |
| issues              | true/false                         | 【可选】issues标签控制开关，默认为false                      |
| link.placeholder    | 【必选】link卡片外挂标签的默认图标 |                                                              |
| CDN.anima           | URL                                | 【可选】动画标签anima的依赖                                  |
| CDN.jquery          | URL                                | 【可选】issues标签依赖                                       |
| CDN.issues          | URL                                | 【可选】issues标签依赖                                       |
| CDN.iconfont        | URL                                | 【可选】iconfont标签symbol样式引入，如果不想引入，则设为false |
| CDN.carousel        | URL                                | 【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false |
| CDN.tag_plugins_css | URL                                | 【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号 |


<!-- endtab -->

<!-- tab 源码修改配置方案 -->

{% tip info %}源码修改配置方案适用于不想应用全部外挂标签的用户，供熟悉外挂标签原理的用户自行选择装配需要的标签文件。{% endtip %}

1. 下载资源文件

{% link github, https://github.com/Akilarlxh/hexo-butterfly-tag-plugins-plus, https://npm.elemecdn.com/akilar-friends@latest/avatar/akilar.top.jpg %}

2. 将下载的`hexo-butterfly-tag-plugins-plus.zip`解压得到资源文件夹,下文以`[tag_plugins_file]`指代该文件夹。

3. 将`[tag_plugins_file]\lib\scripts`目录下的文件放到`[Blogroot]\themes\butterfly\scripts\tag\`文件夹内。

4. 将`[tag_plugins_file]\lib\style`目录下的文件放到`[Blogroot]\themes\butterfly\source\css\tags\`文件夹内。

5. 修改`[Blogroot]\_config.butterfly.yml`的`inject`配置项，添加`CDN`依赖项。由于`issues`写入`timeline`和`site-card`标签要用到`jquery`，请务必根据注释指示的版本决定是否添加。

```
inject:
  head:
    - <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'">  #动画标签anima的依赖
    - <script async src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script> #carousel相册鼠标动作的依赖
  bottom:
    - <script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script>
    # 自butterfly_v3.4.0+开始，主题基本实现去jquery化，需要自己添加引用，请读者根据版本自行决定是否添加这行引用。
    - <script defer src="https://npm.elemecdn.com/hexo-theme-volantis@4.3.1/source/js/issues.js"></script>
    #数据集合标签issues的依赖
```

6. 考虑到hexo自带的markdown渲染插件`hexo-renderer-marked`与外挂标签语法的兼容性较差，建议您将其替换成`hexo-renderer-kramed`

```
npm uninstall hexo-renderer-marked --save
npm install hexo-renderer-kramed --save
```

- 外挂标签使用方案请参阅下文。

<!-- endtab -->

{% endtabs %}

## 行内文本样式 text

{% tabs test2, 2 %}
<!-- tab 标签语法 -->

```
{% u 文本内容 %}
{% emp 文本内容 %}
{% wavy 文本内容 %}
{% del 文本内容 %}
{% kbd 文本内容 %}
{% psw 文本内容 %}
```

<!-- endtab -->

<!-- tab 样式预览 -->

1. 带 {% u 下划线 %} 的文本
2. 带 {% emp 着重号 %} 的文本
3. 带 {% wavy 波浪线 %} 的文本
4. 带 {% del 删除线 %} 的文本
5. 键盘样式的文本 {% kbd command %} + {% kbd D %}
6. 密码样式的文本：{% psw 这里没有验证码 %}

<!-- endtab -->

<!-- tab 示例源码 -->

```
1. 带 {% u 下划线 %} 的文本
2. 带 {% emp 着重号 %} 的文本
3. 带 {% wavy 波浪线 %} 的文本
4. 带 {% del 删除线 %} 的文本
5. 键盘样式的文本 {% kbd command %} + {% kbd D %}
6. 密码样式的文本：{% psw 这里没有验证码 %}
```

<!-- endtab -->
{% endtabs %}

## 行内文本 span

{% tabs test2, 3 %}
<!-- tab 标签语法 -->

```
{% span 样式参数(参数以空格划分), 文本内容 %}
```

<!-- endtab -->

<!-- tab 配置参数 -->

1. 字体: logo, code
2. 颜色: {% span red, red %}、{% span yellow, yellow %}、{% span green, green %}、{% span cyan, cyan %}、{% span blue, blue %}、{% span gray, gray %}。
3. 大小: small, h4, h3, h2, h1, large, huge, ultra
4. 对齐方向: left, center, right

<!-- endtab -->

<!-- tab 样式预览 -->

- 彩色文字
在一段话中方便插入各种颜色的标签，包括：{% span red, 红色 %}、{% span yellow, 黄色 %}、{% span green, 绿色 %}、{% span cyan, 青色 %}、{% span blue, 蓝色 %}、{% span gray, 灰色 %}。
- 超大号文字
文档「开始」页面中的标题部分就是超大号文字。
{% span center logo large, Volantis %}
{% span center small, A Wonderful Theme for Hexo %}

<!-- endtab -->

<!-- tab 示例源码 -->

```
- 彩色文字
在一段话中方便插入各种颜色的标签，包括：{% span red, 红色 %}、{% span yellow, 黄色 %}、{% span green, 绿色 %}、{% span cyan, 青色 %}、{% span blue, 蓝色 %}、{% span gray, 灰色 %}。
- 超大号文字
文档「开始」页面中的标题部分就是超大号文字。
{% span center logo large, Volantis %}
{% span center small, A Wonderful Theme for Hexo %}
```

<!-- endtab -->
{% endtabs %}

## 段落文本

{% tabs test2, 3 %}
<!-- tab 标签语法 -->

```
{% p 样式参数(参数以空格划分), 文本内容 %}
```

<!-- endtab -->
<!-- tab 配置参数 -->

1. 字体: logo, code
2. 颜色: {% span red, red %}、{% span yellow, yellow %}、{% span green, green %}、{% span cyan, cyan %}、{% span blue, blue %}、{% span gray, gray %}。
3. 大小: small, h4, h3, h2, h1, large, huge, ultra
4. 对齐方向: left, center, right

<!-- endtab -->
<!-- tab 样式预览 -->

- 彩色文字
在一段话中方便插入各种颜色的标签，包括：{% p red, 红色 %}、{% p yellow, 黄色 %}、{% p green, 绿色 %}、{% p cyan, 青色 %}、{% p blue, 蓝色 %}、{% p gray, 灰色 %}。
- 超大号文字
文档「开始」页面中的标题部分就是超大号文字。
{% p center logo large, Volantis %}
{% p center small, A Wonderful Theme for Hexo %}

<!-- endtab -->
<!-- tab 示例源码 -->

```
- 彩色文字
在一段话中方便插入各种颜色的标签，包括：{% p red, 红色 %}、{% p yellow, 黄色 %}、{% p green, 绿色 %}、{% p cyan, 青色 %}、{% p blue, 蓝色 %}、{% p gray, 灰色 %}。
- 超大号文字
文档「开始」页面中的标题部分就是超大号文字。
{% p center logo large, Volantis %}
{% p center small, A Wonderful Theme for Hexo %}
```

<!-- endtab -->
{% endtabs %}

# 别看啦我还在后台简陋的一个字一个字编写(