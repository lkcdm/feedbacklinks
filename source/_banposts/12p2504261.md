---
title: 四月自我笔记
abbrlink: 12p2504261
date: 2025/4/26 00:00:00
updated: 2025/4/26 00:00:00
tags:
- 教程
- git
- Linux
categories:
- 学习笔记
copyright: true
toc_number: false
cover: https://cn-sy1.rains3.com/koimg/2025/05/0145a76e250a2c93d3fec30b7909d087.webp
businesscard: true
---

安然无恙，各位；

> 记录一下我的一些迁移操作，免得之后忘记了，众所周知KLCDM的记性一直很感人~

## linux创建文件夹快捷方式

![8773a494-833d-47f4-9be5-0c56c5ae8024](https://cn-sy1.rains3.com/koimg/2025/04/8dfac77eae44970ca4e1af5d578d40cc.png)

**实现方法**`（实际上我最初的方案就是这个结果因为名称错误误以为没用）`

命令ln

```
ln -s /home/Linux /root/Linux
```

解释：将/home/Linux这个文件夹创建一个快捷方式，放在/root目录下，快捷方式的名字叫Linux

如果将命令写成

```
ln -s /home/Linux /root
```

则会在root目录下创建一个名为Linux的快捷方式（和原文件夹名字一样）

> 如果删除快捷方式不会影响原文件

> 命名快捷方式就不要再在后面加斜杠

##  GIT推送相关

接下来是记录一下git的一些东西，是的这玩意我也需要记事本，蠢人一个属于是<AFace face="emoticon:12"/>

git安装
Debian:

```
sudo apt install git
```

Fedora:

```
sudo dnf install git
```

可通过git --version 命令查看，正常输出Git版本号即安装成功。

1.3 配置用户名和邮箱名
命令如下:

```
git config --global user.name "Your Name"
git config --global user.email "email@example.com"
```

配置完后可以通过以下命令查看:

```
git config user.name
git config user.email 
```

1.4 配置SSH公钥
创建公钥文件，生成的公钥文件会保存在本机的~/.ssh目录下:

```
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

然后三步询问直接回车即可(连续三次回车)

创建完成后进~/.ssh目录，(将公钥即id_rsa.pub的内容)复制出来:

```
cd ~/.ssh
cat id_rsa.pub
```

如果进入该目录时提示No such file or directory，自己手动创建一个即可:mkdir ~/.ssh

将公匙放入GitHub，以ssh-rsa开头

```
作者: 青稚
链接: https://blog.linux-qitong.top/posts/c06a1f35/
来源: 青稚の空间
著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。
```

### 使用git init后报错

报错大致内容：

```
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: git config --global init.defaultBranch
hint:
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint:
hint: git branch -m
```

**解决方案**：

配置全局默认分支名称：

打开终端并运行以下命令，将默认分支名称设置为 main：
`git config --global init.defaultBranch main`
这将影响所有新创建的仓库，使其默认分支为 main，避免每次初始化时的提示。
重命名现有分支（可选）：

如果你已经初始化了一个仓库，并希望将默认分支从 master 改为 main，运行：
`git branch -m master main`
验证配置：

创建一个新的仓库以确认配置生效：
`mkdir new_repo && cd new_repo`
`git init`
现在，默认分支应该是 main，而不是 master

### 尝试使用HTTPS链接错误

尝试通过 HTTPS 协议进行身份验证时失败了。具体来说，GitHub 已经在 2021 年 8 月 13 日移除了对密码认证的支持，因此需要使用其他身份验证方式（如 SSH 密钥认证）来连接远程仓库（也可以HTTPS，要密钥）

> 解决方法

#### 方法 1：使用 SSH 协议

GitHub 推荐使用 SSH 协议进行身份验证，因为它是更安全且不需要密码的方式

**生成 SSH 密钥对**：

- 打开终端，运行以下命令生成 SSH 密钥对：

  ```bash
  ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
  ```

- 按回车键选择默认保存路径，然后输入密码（可选）

**添加公钥到 GitHub**：

- 打开 GitHub 账户设置，进入 **SSH and GPG keys** 部分
- 点击 **Add SSH key**，粘贴生成的公钥（`id_rsa.pub`）并保存

**使用 SSH URL 克隆或推送到远程仓库**：

- 确保远程仓库 URL 使用 SSH 格式：

  ```bash
  git clone git@github.com:username/repository.git
  ```

**验证 SSH 连接**：

- 在终端中运行以下命令，测试 SSH 连接：

  ```bash
  ssh -T git@github.com
  ```

- 如果成功，会显示欢迎信息

#### 方法 2：使用 HTTPS 协议（个人访问令牌）

如果你仍然想使用 HTTPS 协议，可以通过生成个人访问令牌来实现

1. **生成个人访问令牌**：

   - 登录 GitHub 账户，进入 **Settings > Developer settings > Personal access tokens**。
   - 点击 **Generate new token**，填写描述并生成令牌

2. **使用令牌进行身份验证**：

   - 在 Git 命令中使用令牌：

     ```bash
     git clone https://<your_token>@github.com/username/repository.git
     ```

   - 或者，配置 Git 使用令牌：

     ```bash
     git config --global github.token <your_token>
     ```

#### 方法 3：检查 Git 版本

确保你使用的是最新版本的 Git，因为旧版本可能存在兼容性问题

检查当前 Git 版本

```bash
git --version
```

更新 Git（如果需要）：

- 根据你的操作系统下载并安装最新版本的 Git：
  - [Git 官方下载页面](https://git-scm.com/downloads)

#### 方法 4：清除凭据缓存

如果之前使用过密码认证，可能会有缓存的凭据导致身份验证失败

清除凭据缓存

- 在终端中运行以下命令：

  ```bash
  git credential-cache --remove
  ```

#### 方法 5：切换到 Git 名称空间（可选）

GitHub 建议使用 `git@github.com` 的格式进行 SSH 连接，而不是直接使用 HTTPS 协议

### 正常推送流程

打开git客户端，cd到要上传的项目文件夹下
输入`git init`命令
输入`git add .` **没反应，直接过，就是目录文件没什么变化，输入下一步就可看**
输入`git commit -m “Update2025”`

添加远程仓库地址

```shell
 git remote add origin git@github.com:lkcdm/www.koxiuqiu.cc.git
```

1. git pull 拉取远程仓库代码到本地。第一次会出现分支合并错误

```shell
 git pull
```

需要设置远程的分支：

```shell
git branch --set-upstream-to=origin/main
```

报错：更新被拒绝，因为您当前分支的最新提交落后于其对应的远程分支
进行分支合并：

```shell
git fetch origin
git merge origin/main
```

再次push 到远端仓库提交到远端仓库成功

```shell
git push -u origin master
```

## 强制推送

```
git push origin main --force
```

